#!/bin/bash

echo "üéØ Universal Figma Cleaner ‚Äî –∑–Ω–∞–π–¥–µ –≤—Å—ñ –ø–æ–≤ º—è–∑–∞–Ω—ñ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó"

# –ó–Ω–∞–π—Ç–∏ –≤—Å—ñ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –∑ figma —É –Ω–∞–∑–≤—ñ
figma_dirs=$(find ~/Library -type d -iname "*figma*" 2>/dev/null)

if [ -z "$figma_dirs" ]; then
  echo "‚ùå Figma –ø–æ–≤ º—è–∑–∞–Ω–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ."
  exit 0
fi

echo -e "\nüîç –ó–Ω–∞–π–¥–µ–Ω–æ —Ç–∞–∫—ñ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó:\n"
echo "$figma_dirs"

echo -e "\n‚ö†Ô∏è –£–≤–∞–≥–∞: —Ü—ñ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –º–æ–∂—É—Ç—å –º—ñ—Å—Ç–∏—Ç–∏ –∫–µ—à, –ª–æ–≥-—Ñ–∞–π–ª–∏, –∞–±–æ —Ç–∏–º—á–∞—Å–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏ Figma."

read -r -p "‚ùì –û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å—ñ –∑–Ω–∞–π–¥–µ–Ω—ñ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó? [y/N] " response
case "$response" in
  [yY][eE][sS]|[yY])
    echo -e "\nüßΩ –í–∏–¥–∞–ª—è—é..."
    while IFS= read -r dir; do
      echo "üóë $dir"
      rm -rf "$dir"
    done <<< "$figma_dirs"
    echo -e "\n‚úÖ –£—Å—ñ Figma –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –æ—á–∏—â–µ–Ω–æ."
    ;;
  *)
    echo "‚ùå –û—á–∏—â–µ–Ω–Ω—è —Å–∫–∞—Å–æ–≤–∞–Ω–æ."
    ;;
esac
